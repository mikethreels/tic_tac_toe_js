(()=>{"use strict";const e=(e,t)=>({getName:()=>e,getSymbol:()=>t,comb:[]}),t={board:[1,2,3,4,5,6,7,8,9]},n=function(e){console.log(e.getName());const n=document.getElementById("game");for(;n.firstChild;)n.removeChild(n.firstChild);const a=document.getElementById("game_info");for(;a.firstChild;)a.removeChild(a.firstChild);const l=document.createElement("div");l.innerHTML=`<h2>${e.getName()} it's your turn!</h2>`,a.append(l),t.board.forEach((t=>{const a=document.createElement("a"),l=document.createElement("p");l.innerHTML=t,a.onclick=()=>{const n=o.getPlayer1(),a=o.getPlayer2();!function(e,t,n,a){console.log(a.getSymbol()),e?(o.incrementmoves(t),o.winCheck(a),o.drawCheck(a),n.innerHTML=a.getSymbol(),console.log(a.getSymbol()),console.log(a.getSymbol())):alert("this position has already been taken chose another")}(o.playerMove(t,n,a),t,l,e),(e=>{const t=document.getElementById("game_info");for(;t.firstChild;)t.removeChild(t.firstChild);const n=document.createElement("div");n.innerHTML=`<h2>${e.getName()} it's your turn!</h2>`,t.append(n)})(e=o.switchPlayer())},a.append(l),n.append(a)}))},a=(e,t=!1)=>{const n=document.getElementById("message");for(;n.firstChild;)n.removeChild(n.firstChild);const a=document.createElement("div"),l=document.createElement("h3"),s=document.createElement("p"),r=o.winnerMessage(t,e);l.innerHTML=r,s.innerHTML="would you like to play again?",a.append(l),a.append(s);const c=document.createElement("div");c.innerHTML='<button id="reset_button">Play again!</button>',n.append(a),n.append(c),n.attributes.class.value="message_section";const i=document.getElementById("game"),m=document.getElementById("game_info");i.attributes.class.value="none",m.attributes.class.value="none",document.querySelector("button").addEventListener("click",o.reset)},o=(()=>{let o,l,s,r=0;const c=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],i=()=>{const e=document.getElementById("player");"player_select"===e.attributes.class.value?(e.attributes.class.value="none",game.attributes.class.value="game_section",game_info.attributes.class.value="game_info"):e.attributes.class.value="player_select"};return{winnerMessage:(e,t)=>{let n;return n=!0===e?"It's a draw!":`Congratulation ${t.getName()} you win!`,n},winCheck:e=>{c.some((t=>t.every((t=>e.comb.includes(t)))))&&a(e)},playerMove:(e,t,n)=>!t.comb.includes(e-1)&&!n.comb.includes(e-1),switchForm:i,reset:function(){t.board=[1,2,3,4,5,6,7,8,9],o.comb=[],l.comb=[],r=0,game.attributes.class.value="game_section",game_info.attributes.class.value="game_info",message.attributes.class.value="none",s=o,n(s,o,l)},gameInit:function(t){t.preventDefault();const a=document.getElementById("newPlayer1").value,r=document.getElementById("newPlayer2").value;o=e(a,"X"),l=e(r,"O"),s=o,i(),n(s,o,l)},incrementmoves:e=>{r+=1,t.board[e-1]=s.getSymbol(),s.comb.push(e-1)},switchPlayer:()=>(s=s===o?l:o,s),getPlayer1:()=>o,getPlayer2:()=>l,getCurrentPlayer:()=>s,drawCheck:e=>{9!==r||c.some((t=>t.every((t=>e.comb.includes(t)))))||a("N/A",!0)}}})();document.getElementById("newPlayerForm").addEventListener("submit",o.gameInit)})();