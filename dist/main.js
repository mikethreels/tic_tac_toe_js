(()=>{"use strict";const e=(e,t)=>({getName:()=>e,getSymbol:()=>t,comb:[]}),t={board:[1,2,3,4,5,6,7,8,9]},n=function(e){console.log(e.getName());const n=document.getElementById("game");for(;n.firstChild;)n.removeChild(n.firstChild);const o=document.getElementById("game_info");for(;o.firstChild;)o.removeChild(o.firstChild);const s=document.createElement("div");s.innerHTML=`<h2>${e.getName()} it's your turn!</h2>`,o.append(s),t.board.forEach((t=>{const o=document.createElement("a"),s=document.createElement("p");s.innerHTML=t,o.onclick=()=>{!function(e,t,n,o){console.log(o.getSymbol()),e?(a.incrementmoves(t),a.winCheck(),n.innerHTML=o.getSymbol(),console.log(o.getSymbol()),console.log(o.getSymbol())):alert("this position has already been taken chose another")}(a.playerMove(t),t,s,e),(e=>{const t=document.getElementById("game_info");for(;t.firstChild;)t.removeChild(t.firstChild);const n=document.createElement("div");n.innerHTML=`<h2>${e.getName()} it's your turn!</h2>`,t.append(n)})(e=a.switchPlayer())},o.append(s),n.append(o)}))},o=(e,t=!1)=>{const n=document.getElementById("message");for(;n.firstChild;)n.removeChild(n.firstChild);const o=document.createElement("div"),s=document.createElement("h3"),l=document.createElement("p"),c=a.winnerMessage(t,e);s.innerHTML=c,l.innerHTML="would you like to play again?",o.append(s),o.append(l);const i=document.createElement("div");i.innerHTML='<button id="reset_button">Play again!</button>',n.append(o),n.append(i),n.attributes.class.value="message_section";const m=document.getElementById("game"),r=document.getElementById("game_info");m.attributes.class.value="none",r.attributes.class.value="none",document.querySelector("button").addEventListener("click",a.reset)},a=(()=>{let a,s,l,c=0;const i=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],m=()=>{const e=document.getElementById("player");"player_select"===e.attributes.class.value?(e.attributes.class.value="none",game.attributes.class.value="game_section",game_info.attributes.class.value="game_info"):e.attributes.class.value="player_select"};return{winnerMessage:(e,t)=>{let n;return n=!0===e?"It's a draw!":`Congratulation ${t.getName()} you win!`,n},winCheck:()=>{i.some((e=>e.every((e=>l.comb.includes(e)))))?o(l):9!==c||i.some((e=>e.every((e=>l.comb.includes(e)))))||o("N/A",!0)},playerMove:e=>!a.comb.includes(e-1)&&!s.comb.includes(e-1),switchForm:m,reset:function(){t.board=[1,2,3,4,5,6,7,8,9],a.comb=[],s.comb=[],c=0,game.attributes.class.value="game_section",game_info.attributes.class.value="game_info",message.attributes.class.value="none",l=a,n(l,a,s)},gameInit:function(t){t.preventDefault();const o=document.getElementById("newPlayer1").value,c=document.getElementById("newPlayer2").value;a=e(o,"X"),s=e(c,"O"),l=a,m(),n(l,a,s)},incrementmoves:e=>{c+=1,t.board[e-1]=l.getSymbol(),l.comb.push(e-1)},switchPlayer:()=>(l=l===a?s:a,l)}})();document.getElementById("newPlayerForm").addEventListener("submit",a.gameInit)})();